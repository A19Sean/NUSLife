(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{16:function(e,t,n){e.exports=n(45)},21:function(e,t,n){},23:function(e,t,n){},45:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(10),o=n.n(l),i=(n(21),n(11)),u=n(12),c=n(14),s=n(13),m=n(15),d=n(2),h=(n(23),n(25)),f=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(c.a)(this,Object(s.a)(t).call(this,e))).state={value:"",sem:"1",modules:[],info:{},yourmods:[],mcs:0,autocomplete:[],error:""},n.handleChange=n.handleChange.bind(Object(d.a)(Object(d.a)(n))),n.handleSubmit=n.handleSubmit.bind(Object(d.a)(Object(d.a)(n))),n.handleClick=n.handleClick.bind(Object(d.a)(Object(d.a)(n))),n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"handleClick",value:function(e){if("radio"===e.target.type)this.setState({sem:e.target.value});else{var t=this.state.info.Preclusion.match(/[A-Z]{2,}[0-9]{4}[A-Z]*/g),n=this.state.info.ModuleCode;if(this.state.yourmods.filter(function(e){return e.mod===n}).length>0)return void this.setState({error:"No Duplicates"});if(this.state.yourmods.filter(function(e){return t.indexOf(e.mod)>=0}).length>0)return void this.setState({error:"Already precluded"});this.setState(function(e,t){return{yourmods:e.yourmods.concat([{year:2018,sem:e.sem,mod:n}]),mcs:e.mcs+parseInt(e.info.ModuleCredit)}})}}},{key:"handleChange",value:function(e){var t=e.target.value,n=this.state.modules.map(function(e){return e.ModuleCode}),a=""===t?[]:n.filter(function(e){return RegExp(t+"+").test(e)}).slice(0,10);this.setState({value:t,autocomplete:a})}},{key:"handleSubmit",value:function(e){var t=this,n="https://api.nusmods.com/2018-2019/".concat(this.state.sem,"/modules/").concat(this.state.value,".json");h.get(n).then(function(e){t.setState({info:e.data}),console.log(n)}).catch(function(e){console.log(e)}),e.preventDefault()}},{key:"componentDidMount",value:function(){var e=this;h.get("https://api.nusmods.com/2018-2019/moduleList.json").then(function(t){e.setState({modules:t.data})})}},{key:"render",value:function(){return r.a.createElement("div",{className:"App"},"Your Mods: ",r.a.createElement("tr",null,r.a.createElement("th",null,"Year"),r.a.createElement("th",null,"Semester"),r.a.createElement("th",null,"Module")),this.state.yourmods.map(function(e){return r.a.createElement("tr",null,r.a.createElement("td",null,e.year),r.a.createElement("td",null,e.sem),r.a.createElement("td",null,e.mod))})," ",r.a.createElement("br",null),"Your MCs: ",this.state.mcs,r.a.createElement("br",null),r.a.createElement("form",{onSubmit:this.handleSubmit,onChange:this.handleChange},"Module Code:",r.a.createElement("input",{type:"text",name:"name"}),r.a.createElement("input",{type:"submit",value:"Submit"}),r.a.createElement("button",{onClick:this.handleClick},"Add Module")," ",r.a.createElement("br",null),r.a.createElement("span",{style:{color:"red"}},this.state.error),r.a.createElement("br",null),"Semester:",r.a.createElement("input",{onClick:this.handleClick,type:"radio",name:"Semester",value:"1"})," 1",r.a.createElement("input",{onClick:this.handleClick,type:"radio",name:"Semester",value:"2"})," 2 ",r.a.createElement("br",null),this.state.autocomplete.map(function(e){return r.a.createElement("p",null,e)})),function e(t){var n=["Timetable","LecturePeriods","TutorialPeriods","CorsBiddingStats"];return"object"!==typeof t?t:t.constructor===Array?t.map(function(t){return r.a.createElement("tr",null,r.a.createElement("td",null,e(t)))}):Object.keys(t).filter(function(e){return-1===n.indexOf(e)}).map(function(n){return r.a.createElement("tr",null,r.a.createElement("td",null,n)," ",r.a.createElement("td",null,e(t[n]))," ")})}(this.state.info))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(f,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[16,2,1]]]);
//# sourceMappingURL=main.e3a1bcb7.chunk.js.map